# ============================================================================
# COPD 数字孪生肺项目 - 依赖库列表
# 安装命令: pip install -r requirements.txt
# ============================================================================

# ----- 核心科学计算 -----
numpy>=1.21.0
scipy>=1.7.0

# ----- 医学影像处理 -----
nibabel>=4.0.0                # NIfTI 文件读写
pydicom>=2.3.0                # DICOM 文件读写
SimpleITK>=2.2.0              # 医学图像处理

# ----- 自动分割 (GPU 加速) -----
# TotalSegmentator: 推荐用于生产环境的 GPU 加速肺部分割
# 安装方式 1 (推荐，自动安装 nnUNet 依赖):
#   pip install TotalSegmentator
# 安装方式 2 (如果需要特定 CUDA 版本):
#   pip install TotalSegmentator --extra-index-url https://download.pytorch.org/whl/cu118
# 注意: TotalSegmentator 需要约 2GB 显存，首次运行会下载模型权重 (~1.5GB)
TotalSegmentator>=2.0.0

# ----- ANTsPy (配准与模板构建) -----
# ANTsPy: 用于 Phase 2 模板构建和图像配准
# 安装方式 1 (pip，可能需要编译):
#   pip install antspyx
# 安装方式 2 (conda，推荐):
#   conda install -c aramislab antspyx
# antspyx>=0.3.0

# ----- 深度学习框架 -----
torch>=1.12.0
torchvision>=0.13.0

# ----- 3D 可视化 -----
pyvista>=0.37.0
vtk>=9.1.0

# ----- 图像处理与评估 -----
scikit-image>=0.19.0          # SSIM, PSNR 等指标
opencv-python>=4.5.0          # 图像处理
Pillow>=9.0.0                 # 图像 I/O

# ----- 数据处理与工具 -----
pandas>=1.4.0
tqdm>=4.64.0                  # 进度条
PyYAML>=6.0                   # 配置文件解析
matplotlib>=3.5.0             # 绑图

# ----- 开发工具 -----
pytest>=7.0.0                 # 单元测试
pytest-cov>=3.0.0             # 测试覆盖率
black>=22.0.0                 # 代码格式化
flake8>=4.0.0                 # 代码检查

# ----- Jupyter Notebook -----
jupyter>=1.0.0
ipykernel>=6.0.0
ipywidgets>=7.0.0

# ----- 日志 -----
loguru>=0.6.0                 # 可选的高级日志库

